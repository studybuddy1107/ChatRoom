<!DOCTYPE html>
<html>
<head>
  <title>2-Person Chat</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #chat { border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px; }
    input, button { padding: 10px; font-size: 16px; margin-top: 10px; }
    #username { width: 100px; }
    #message { width: 200px; }
  </style>
</head>
<body>
  <h2>Chat Room for Two</h2>
  <div>
    <input type="text" id="username" placeholder="Your name" />
    <input type="text" id="message" placeholder="Your message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
  <div id="chat"></div>

  <script>
    const socket = io('https://chat-server.glitch.me');

    function sendMessage() {
      const name = document.getElementById('username').value.trim();
      const msg = document.getElementById('message').value.trim();
      if (!name || !msg) return;

      socket.emit('chat message', `${name}: ${msg}`);
      document.getElementById('message').value = '';
    }

    socket.on('chat message', function(msg) {
      const chat = document.getElementById('chat');
      const div = document.createElement('div');
      div.textContent = msg;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    });

    // Optional: Send message on Enter key
    document.getElementById('message').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') sendMessage();
    });
  </script>
</body>
</html>
